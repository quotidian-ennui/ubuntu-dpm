name: git-absorb

sources:
  git-absorb:
    name: Github release for git-absorb
    kind: githubrelease
    spec:
      owner: tummychow
      repository: git-absorb
      token: '{{ requiredEnv "GITHUB_TOKEN" }}'
      versionfilter:
        kind: semver
        pattern: '{{ default "*" .versions.git_absorb }}'
    transformers:
      - trimprefix: "v"

targets:
  git-absorb:
    kind: yaml
    sourceid: git-absorb
    name: Update git-absorb tool version
    spec:
      files:
        - ./config/tools.yml
      key: $.git-absorb.version
